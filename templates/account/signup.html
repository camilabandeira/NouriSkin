{% extends "base.html" %}
{% load static %}

{% block title %}Sign Up{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/account/signup.css' %}">

<section class="signup-page">
    <h2>Sign Up</h2>

    {% if form.non_field_errors %}
    <div class="error general-error" role="alert">
        {{ form.non_field_errors }}
    </div>
    {% endif %}

    <form method="post" action="{% url 'account_signup' %}">
        {% csrf_token %}
        <div class="signup-form">
            <div class="form-group">
                <input 
                    type="text" 
                    name="first_name" 
                    id="id_first_name" 
                    value="{{ form.first_name.value|default_if_none:'' }}" 
                    placeholder="First name*" 
                    class="form-control" 
                    required>
            </div>

            <div class="form-group">
                <input 
                    type="text" 
                    name="last_name" 
                    id="id_last_name" 
                    value="{{ form.last_name.value|default_if_none:'' }}" 
                    placeholder="Last name*" 
                    class="form-control" 
                    required>
            </div>

            <div class="form-group">
                <input 
                    type="text" 
                    name="username" 
                    id="id_username" 
                    value="{{ form.username.value|default_if_none:'' }}" 
                    placeholder="Username*" 
                    class="form-control" 
                    required>
            </div>

            <div class="form-group">
                <input 
                    type="email" 
                    name="email" 
                    id="id_email" 
                    value="{{ form.email.value|default_if_none:'' }}" 
                    placeholder="Email*" 
                    class="form-control" 
                    required>
            </div>

            <div class="form-group password-field">
                <input 
                    type="password" 
                    name="password1" 
                    id="id_password1" 
                    placeholder="Password*" 
                    class="form-control" 
                    required>
                <span class="toggle-password" onclick="togglePasswordVisibility('id_password1')">
                    <i class="fas fa-eye"></i>
                </span>
            </div>

            <div class="form-group password-field">
                <input 
                    type="password" 
                    name="password2" 
                    id="id_password2" 
                    placeholder="Confirm password*" 
                    class="form-control" 
                    required>
                <span class="toggle-password" onclick="togglePasswordVisibility('id_password2')">
                    <i class="fas fa-eye"></i>
                </span>
            </div>
        </div>

        <button type="submit" class="signup-form-btn">Sign Up</button>
    </form>

    <div class="login-link">
        Already have an account? <a href="{% url 'account_login' %}">Login</a>
    </div>
    
</section>

<script src="{% static 'js/account.js' %}"></script>
{% endblock %}
